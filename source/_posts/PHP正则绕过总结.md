---
title: PHP正则绕过总结
date: 2022-01-21 16:58:25
tags:
      - php
      - 正则
      - ctf
categories: php
---

## PHP正则绕过总结

### 换行符绕过

原理是preg_match()是单行匹配,添加%0a换行符后对第二行的内容会不做处理

### 数组绕过

preg_match()只能处理字符串,当传入数组时会返回false,当有时候if(!preg_match())时很好用

### %5c绕过

\的编码是%5c

当匹配以数字,字母,下划线开头的值的时候,可以使用\绕过

### preg_match("/^$/e") 

(注：php版本需要小于5.5.0)

preg_replace 使用了 /e 模式，导致可以代码执行

### 正则回溯

##### 正则匹配中贪婪模式和非贪婪模式的区别

我个人理解为,贪婪模式情况下,会尽可能多的进行每一次的匹配,非贪婪模式每一次进行匹配都会找尽可能短的满足`?`前条件的字符完成本次匹配

##### 原理

在贪婪模式下,php对于后面字符串的匹配次数有着限制,超过这个限制,preg_match就回返回false'

一般通过python脚本实现,

后面补上具体题目的操作过程
